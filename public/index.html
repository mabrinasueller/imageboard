<!doctype html>
<html>
<head>
    <title>Imageboard</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="wrapper">
         <header class="main-head"></header>
    <div id="main">
        <!-- <h1>Imageboard</h1> -->
<form style="margin-top: 10px">
    <input v-model="title" type="text" name="title" placeholder="Title">
    <input v-model="description" type="text" name="description" placeholder="Description">
    <input v-model="username" type="text" name="username" placeholder="Username">
    <input @change="handleChange" type="file" name="file" class="inputfile" accept="image/*">
   
    
    <button @click.prevent="submitFile" class="bouncy">Submit</button>
</form>

 
               
<div class="image-grid" >
    <figure class="image-frame content" v-for="image in images"  v-bind:key="image.id">
        <div @click="toggleImage(image.id)">
        <img  :src="image.url" alt="image"class="gallery">
        </div>
        <figcaption>{{image.title}}</figcaption>
    </figure>
    
</div>

    <modal-component :image-id="imageId" v-if="imageId" @close="closeModal">
    
        <comment-component :image-id="imageId">
        </comment-component>
    </modal-component>
    <div v-if="imageId" class="overlay">

    </div>

<button v-if="" @click="gimmeMore">Show more</button>
</div>
   

  
<!-- components live OUTSIDE of main -->
<script id="modal-template" type="text/x-template">
    <div class="modal-container">
        <span @click="closeModal" class="close" style="cursor:pointer; font-weight: bold">X</span>
            <div class="image-modal-container">
                <img  :src="url" alt="image"style="object-fit: cover; padding: 10px">
            </div>
        <div class="modal-text-container">
            <p v-if="title">{{title}}</p>
            <p v-if="description">{{description}}</p>
            <p v-if="username">Uploaded by {{username}} on {{created_at}}</p>
            <p v-else>Uploaded on {{created_at}}</p>
        </div>
        <slot>

        </slot>
    </div>
</script>

<script id="comment-template" type="text/x-template">
    <div class="comment-container">
<form style="margin-top: 10px">
    <input v-model="comment_text" type="text" name="comment_text" placeholder="Comment here">
    <input v-model="username" type="text" name="username" placeholder="Your username">
    <button @click.prevent="submitComment">Submit</button>
   </form>


  <div v-for="comment in comments" :key="comment.id" class="comments-text">
        <p>{{comment.comment_text}}</p>
        <p>{{comment.username}} on {{comment.created_at}}</p>
    </div>
    </div>
</script>

 <footer class="main-footer"></footer>
 </div>
    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>


