<!doctype html>
<html>
<head>
    <title>Imageboard</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="wrapper">
         <header class="main-head"> 
                <img src="https://adexi.eu/wp-content/uploads/2018/12/moomin-banner-4.jpg" alt="Moomin Banner" srcset="">
           <img src="Moomin_family1.jpeg" alt="Moomin-family">
         </header>
    <div id="main">
        <!-- <h1>Imageboard</h1> -->
<form style="margin-top: 10px">
    <input v-model="title" type="text" name="title" placeholder="Title">
    <input v-model="description" type="text" name="description" placeholder="Description">
    <input v-model="username" type="text" name="username" placeholder="Username">
    <input @change="handleChange" type="file" name="file" class="inputfile" accept="image/*">
   
    
    <button @click.prevent="submitFile" class="bouncy">Submit</button>
</form>

 
               
<div class="image-grid" >
    <div  v-for="image in images"  :key="image.id">
        
        <figure class="image-frame content">
            <!-- <div @click="toggleImage(image.id)"> -->
                
            <img  :src="image.url" alt="image" class="gallery">
            <a :href="'#' + image.id">
            <div class="title">
                 <figcaption >{{image.title}}</figcaption>  
            </div> 
               </a>
            </figure>
         </div>
</div>

    <modal-component :image-id="imageId" v-if="imageId" @close="closeModal">
    
     
    </modal-component>
    <div v-if="imageId" class="overlay" @click="closeModal">

    </div>
<div class="button-wrapper">
<button v-if="!lowestIdOnScreen" @click="gimmeMore" class="showMore">Show more</button>
</div>
</div>
   

  
<!-- components live OUTSIDE of main -->
<script id="modal-template" type="text/x-template">
    <div class="modal-container">
       
            <div class="image-modal-container">
                <img  :src="url" alt="image"style="object-fit: cover; padding: 10px">
            </div>
            <div >   
        <div class="modal-text-container">
            <p v-if="title">Title: {{title}}</p>
            <p v-if="description">Description: {{description}}</p>
            <p v-if="username">Uploaded by <span style="font-weight: bold">{{username}}</span> on {{created_at}}</p>
            <p v-else>Uploaded on {{created_at}}</p>
            </div>
          <comment-component :image-id="imageId"></comment-component>
        </div>
         <span @click="closeModal" class="close" style="cursor:pointer; font-weight: bold">X</span>
    </div>
</script>

<script id="comment-template" type="text/x-template">
    <div class="comment-container">
<form style="margin-top: 10px; padding-left: 15px">
    <input v-model="comment_text" type="text" name="comment_text" placeholder="Comment here">
    <input v-model="username" type="text" name="username" placeholder="Your username">
    <button @click.prevent="submitComment" class="submitComment">Submit comment</button>
   </form>
   


  <div v-for="comment in comments" :key="comment.id" class="comments-text">
        <p>{{comment.comment_text}}</p>
        <span>Posted by {{comment.username}} on {{comment.created_at}}</span>
    </div>
    </div>
</script>

 <footer class="main-footer"></footer>
 </div>
    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>


